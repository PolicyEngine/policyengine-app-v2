{
  "$schema": "https://openapi.vercel.sh/vercel.json",
  "installCommand": "bun install --frozen-lockfile",
  "buildCommand": "bun run design-system:build && cd app && bun run generate-llms-txt && bun run generate-sitemap && bun run build:website",
  "outputDirectory": "app/dist",
  "redirects": [
    {
      "source": "/:countryId/blog/:slug",
      "destination": "/:countryId/research/:slug",
      "permanent": true
    },
    {
      "source": "/:countryId/blog",
      "destination": "/:countryId/research",
      "permanent": true
    }
  ],
  "rewrites": [
    {
      "source": "/robots.txt",
      "destination": "/robots.txt"
    },
    {
      "source": "/sitemap.xml",
      "destination": "/sitemap.xml"
    },
    {
      "source": "/_tracker/:path*",
      "destination": "https://policyengine--state-legislative-tracker.modal.run/_tracker/:path*"
    },
    {
      "source": "/slides",
      "destination": "https://policyengine-slides.vercel.app/slides"
    },
    {
      "source": "/slides/:path*",
      "destination": "https://policyengine-slides.vercel.app/slides/:path*"
    },
    {
      "source": "/plugin-blog",
      "destination": "https://policyengine.github.io/plugin-blog/"
    },
    {
      "source": "/plugin-blog/:path*",
      "destination": "https://policyengine.github.io/plugin-blog/:path*"
    },
    {
      "source": "/us/taxsim",
      "destination": "https://cps-dashboard-pied.vercel.app/us/taxsim"
    },
    {
      "source": "/us/taxsim/:path*",
      "destination": "https://cps-dashboard-pied.vercel.app/us/taxsim/:path*"
    },
    { "source": "/(.*)", "destination": "/website.html" }
  ],
  "headers": [
    {
      "source": "/assets/(.*)",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "public, max-age=31536000, immutable"
        }
      ]
    }
  ]
}
